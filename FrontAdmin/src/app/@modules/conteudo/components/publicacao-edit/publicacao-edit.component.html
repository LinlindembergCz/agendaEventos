<app-header></app-header> 

<div class="frameMain" [ngStyle]="{'left': !isMobile ? '10%':'0%', 'width': !isMobile ?'80%':'100%'}">

    <div class="frameSobre">
        <div class="frameEventoDetails p-grid p-fluid"> 
            <div class="voltarparaconteudo" style="cursor: pointer;">              
                <a href="javascript:history.back()">
                    <img src="assets/imgs/chevron-return.png" >voltar para conteúdo 
                </a>
            </div>
            
            <div class="p-grid ">   
                <div class="frameTituloNovo p-col-12" ><h2>Nova publicação</h2></div>
                <div class="frameTituloNovo p-col-12" >
                    <h2>
                        <span class="p-float-label">
                            <p-dropdown optionLabel="name"  [options]="tiposPublicacao" 
                            [(ngModel)]="tipoPublicacao" 
                            [style]="{'width':'100%'}"></p-dropdown>
                            <label for="float-input">Tipo de publicação</label>
                        </span> 
                    </h2>                   
                </div>
            </div>

            <div class="linha"></div>
             

            <div class="frameTituloEvento p-col-12">
                <div class="p-col-12">
                    <span class="p-float-label">
                        <input id="float-input" type="text" pInputText  [(ngModel)]="conteudo.titulo"> 
                        <label for="float-input">Título (obrigatório)</label>
                    </span>
                </div>    
            </div>

            <div class="frameTituloEvento p-col-12">
                <div class="p-col-12">
                    <span class="p-float-label">
                        <input id="float-input" type="text" pInputText [(ngModel)]="conteudo.subtitulo"> 
                        <label for="float-input">Subtítulo</label>
                    </span>
                </div>    
            </div>

            <div class="frameImagemCapa p-col-12">
                <div class="frameTituloTopico">
                     Imagem de capa
                 </div>        
                 <div class="frameTituloTopico" style="text-align:center;">
                     <div style="font-size: 16px;"><label>Tamanho 600px de largura e 315px de altura</label></div>
                     <img [src]="picture?picture:'assets/imgs/semfoto.jpg'" [ngStyle]="{'width':!isMobile?'600px':'100%', 'height':'315px'}"/>
                     
                     <app-photo-upload (onUpload)="onUpload($event)" origem="conteudos" 
                     [fileUrl]="picture" [imageName]="conteudo.id">
                     </app-photo-upload>

                 </div>
         
             </div>

             <div class="frameTituloEvento p-col-12">
                <div class="p-col-12">
                    <span class="p-float-label">
                        <input id="float-input" type="text" pInputText [(ngModel)]="conteudo.legenda"> 
                        <label for="float-input">Legenda(opcional)</label>
                    </span>
                </div>    
            </div>

            <div class="frameDescricao p-col-12">                
                <p-editor [style]="{'height':'300px', 'width':'100%'}" [(ngModel)]="conteudo.descricao">
                </p-editor>
           </div>      
           <div class="p-col-12">
            <p-inputSwitch [(ngModel)]="conteudo.personalizadoativado"></p-inputSwitch> Botão personalizado ativado.  
           </div> 
       
            <div class="p-col-12" *ngIf="conteudo.personalizadoativado">
                <span class="p-float-label">
                    <input id="float-input" type="text" pInputText [(ngModel)]="conteudo.titulochamada"> 
                    <label for="float-input">Título da chamada</label>
                </span>
            </div>   
            <div class="p-col-12" *ngIf="conteudo.personalizadoativado">
                <span class="p-float-label">
                    <input id="float-input" type="text" pInputText [(ngModel)]="conteudo.titulobotao"> 
                    <label for="float-input">Título do botão</label>
                </span>
            </div> 
            <div class="p-col-12" *ngIf="conteudo.personalizadoativado">
                <span class="p-float-label">
                    <input id="float-input" type="text" pInputText [(ngModel)]="conteudo.linkredirecionamento"> 
                    <label for="float-input">Link para redirecionamento</label>
                </span>
            </div> 
            
        </div>              
 
        <div class="p-col-12" style="text-align: right;" *ngIf="conteudo.status=='Rascunho'">
            <button pButton class="p-button-lg p-button-raised p-button-outlined p-mr-10" (click)="save(conteudo.id)">Atualizar</button>&nbsp;&nbsp;
            <button pButton class="p-button-lg p-button-raised p-button-warning p-mr-10" (click)="ShowPreview(conteudo.id)">Visualizar e publicar</button>
        </div>
            
        <div class="p-col-12" style="text-align: right;" *ngIf="conteudo.status=='Publicado'">
            <button pButton class="p-button-lg p-button-raised p-button-outlined p-mr-10" (click)="save(conteudo.id)">Atualizar</button>&nbsp;&nbsp;
            <button pButton class="p-button-lg p-button-raised p-button-warning p-mr-10" (click)="ShowPublished(conteudo)">Visualizar</button>
        </div>

    </div>
    

</div>

<p-toast position="top-right"></p-toast>


<p-confirmDialog #cd  [breakpoints]="{'560px': '75vw', '640px': '100vw'}" [style]="{width: '40vw'}">
        <ng-template pTemplate="footer">
            <button type="button" pButton icon="pi pi-times" label="NÃ£o" (click)="cd.reject()"></button>
            <button type="button" class="p-button-danger" pButton icon="pi pi-check" label="Sim" (click)="cd.accept()"></button>
       </ng-template>
</p-confirmDialog>

